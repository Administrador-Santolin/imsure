<div class="cliente-form-container">
  <mat-card class="cliente-form-card">
    <mat-card-header>
      <mat-card-title>{{ isEditing ? 'Editar Cliente' : 'Novo Cliente' }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="clienteForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="nome" placeholder="Ex: Maria Souza" required>
          @if (clienteForm.get('nome')?.hasError('required')) {
          <mat-error>
            Nome é obrigatório.
          </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" placeholder="Ex: maria.souza@example.com" required>
          @if (clienteForm.get('email')?.hasError('required')) {
          <mat-error>
            Email é obrigatório.
          </mat-error>
          } @else if (clienteForm.get('email')?.hasError('email')){
          <mat-error>
            Email inválido.
          </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>Telefone</mat-label>
          <input matInput formControlName="telefone" placeholder="Ex: (99) 99999-9999" required>
          @if (clienteForm.get('telefone')?.hasError('required')) {
          <mat-error>
            Telefone é obrigatório.
          </mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>CPF</mat-label>
          <input matInput formControlName="cpf" placeholder="Ex: 123.456.789-00">
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>Endereço</mat-label>
          <input matInput formControlName="endereco" placeholder="Ex: Rua Exemplo, 123 - Cidade">
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width-input">
          <mat-label>Data de Nascimento</mat-label>
          <input matInput formControlName="dataNascimento" placeholder="Ex: DD/MM/AAAA">
          <!-- Para um seletor de data mais robusto, usaria <input matInput [matDatepicker]="picker"> e MatDatepickerModule -->
        </mat-form-field>

        <div class="form-actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="clienteForm.invalid">
            <mat-icon>{{ isEditing ? 'save' : 'add' }}</mat-icon>
            {{ isEditing ? 'Salvar Alterações' : 'Adicionar Cliente' }}
          </button>
          <button mat-raised-button color="warn" type="button" (click)="onCancel()">
            <mat-icon>cancel</mat-icon>
            Cancelar
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
